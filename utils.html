<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="author" content="Reinhard Stahn"/><title>Utilities</title><link rel="icon" type="image/x-icon" sizes="any" href="./favicon/favicon.ico"/><!-- https://simplecss.org - License: MIT - We are using ./simple.css from commit dcb3545f2304356985c99acce9471ba3f559976b from https://github.com/kevquirk/simple.css --><link rel="stylesheet" href="./css/simple.css"/><link rel="stylesheet" href="./css/style.css"/><script src="./js/perf.js"></script><script src="./js/mathjax.js"></script><script async="" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha384-Wuix6BuhrWbjDBs24bXrjf4ZQ5aFeFWBuKkFekO2t8xFU0iNaLQfp2K6/1Nxveei" crossorigin="anonymous"></script></head><body><nav><a href="index.html">HOME</a></nav><h1 class="title">Utilities</h1>\[
\newcommand{\CC}{\mathbb{C}}
\newcommand{\HH}{\mathbb{H}}
\newcommand{\KK}{\mathbb{K}}
\newcommand{\NN}{\mathbb{N}}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\ii}{\mathrm{i}}
\newcommand{\jj}{\mathrm{j}}
\newcommand{\kk}{\mathrm{k}}
\newcommand{\dd}{\mathrm{d}}
\newcommand{\FT}{\mathcal{F}} % Fourier Transform
\newcommand{\tto}{\twoheadrightarrow}
\newcommand{\inv}{^{-1}}
\newcommand{\RF}{\mathrm{RF}}
\newcommand{\sys}{\mathrm{sys}}
\newcommand{\diag}{\mathrm{diag}}
\newcommand{\calE}{\mathcal{E}}
\newcommand{\calF}{\mathcal{F}}
\newcommand{\calH}{\mathcal{H}}
\newcommand{\abs}[1]{\left|#1\right|}
\newcommand{\norm}[1]{\|#1\|}
\newcommand{\sprod}[2]{\langle#1|#2\rangle} % deprecated, use braket instead.
\newcommand{\braket}[2]{\langle#1|#2\rangle} % scalar product
\newcommand{\ptrace}[2]{\mathrm{tr}_{#1}\left(#2\right)}
\newcommand{\trace}[1]{\mathrm{tr}\left(#1\right)}
\newcommand{\rank}[1]{\mathrm{rank}\left(#1\right)}
\newcommand{\floor}[1]{\lfloor#1\rfloor}
\newcommand{\ceil}[1]{\lceil#1\rceil}
\newcommand{\bra}[1]{\langle#1|}
\newcommand{\ket}[1]{|#1\rangle}
\newcommand{\proj}[1]{\ket{#1}\bra{#1}}
\newcommand{\mean}[1]{\langle#1\rangle}
\newcommand{\orac}{\mathrm{Orac}}
\newcommand{\?}{} % sometimes I need just a separator other than whitespace
\]
<p>
The code in this file is available via <code class="src src-python"><span class="org-keyword">import</span> utils</code> (after tangling).
</p>

<div id="outline-container-org736284d" class="outline-2">
<h2 id="org736284d">Pure Python</h2>
<div class="outline-text-2" id="text-org736284d">
<p>
The following class can be used to print colored text to the (ipython) terminal:
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">class</span> <span class="org-type">TermColor</span>:
    <span class="org-doc">"""Standard color sequences for coloring text on terminal.</span>

<span class="org-doc">    Usage:</span>
<span class="org-doc">    print(TermColor.RED + "In red" + TermColor.ENDC + " in normal color")"""</span>
    <span class="org-variable-name">GREEN</span> <span class="org-operator">=</span> <span class="org-string">'</span><span class="org-constant">\033</span><span class="org-string">[32m'</span>
    <span class="org-variable-name">RED</span> <span class="org-operator">=</span> <span class="org-string">'</span><span class="org-constant">\033</span><span class="org-string">[31m'</span>
    <span class="org-variable-name">ENDC</span> <span class="org-operator">=</span> <span class="org-string">'</span><span class="org-constant">\033</span><span class="org-string">[0m'</span>
</pre>
</div>

<p>
The commutator:
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">def</span> <span class="org-function-name">commutator</span>(a, b):
    <span class="org-doc">"""Commutator [a,b] of a and b."""</span>
    <span class="org-keyword">return</span> a<span class="org-operator">*</span>b <span class="org-operator">-</span> b<span class="org-operator">*</span>a
</pre>
</div>
</div>
</div>

<div id="outline-container-org931f06c" class="outline-2">
<h2 id="org931f06c">Sage</h2>
<div class="outline-text-2" id="text-org931f06c">
<p>
The Pauli matrices implemented in sage
</p>

<div class="org-src-container">
<pre class="src src-sage" id="orge7b1ae6"><span class="org-comment-delimiter"># </span><span class="org-comment">Pauli matrices:</span>
<span class="org-variable-name">Id</span> <span class="org-operator">=</span> matrix.identity(2)
<span class="org-variable-name">X</span> <span class="org-operator">=</span> matrix([[0, 1], [1, 0]])
<span class="org-variable-name">Y</span> <span class="org-operator">=</span> matrix([[0, <span class="org-operator">-</span>i], [i, 0]])
<span class="org-variable-name">Z</span> <span class="org-operator">=</span> matrix([[1, 0], [0, <span class="org-operator">-</span>1]])

<span class="org-comment-delimiter"># </span><span class="org-comment">Hadamard matrix</span>
<span class="org-variable-name">H</span> <span class="org-operator">=</span> matrix([[1, 1], [1, <span class="org-operator">-</span>1]]) <span class="org-operator">/</span> sqrt(2)

<span class="org-comment-delimiter"># </span><span class="org-comment">Phase gate</span>
<span class="org-variable-name">S</span> <span class="org-operator">=</span> matrix([[1, 0], [0, i]])
</pre>
</div>

<p>
The Pauli Rotations
</p>

<div class="org-src-container">
<pre class="src src-sage" id="org351b7cb"><span class="org-variable-name">theta</span> <span class="org-operator">=</span> SR.var(<span class="org-string">'theta'</span>, domain<span class="org-operator">=</span><span class="org-string">'real'</span>)
<span class="org-variable-name">Rz</span> <span class="org-operator">=</span> matrix([[exp(<span class="org-operator">-</span>i<span class="org-operator">*</span>theta<span class="org-operator">/</span>2), 0], [0, exp(i<span class="org-operator">*</span>theta<span class="org-operator">/</span>2)]])
<span class="org-variable-name">Rx</span> <span class="org-operator">=</span> matrix([[cos(theta<span class="org-operator">/</span>2), <span class="org-operator">-</span>i<span class="org-operator">*</span>sin(theta<span class="org-operator">/</span>2)], [<span class="org-operator">-</span>i<span class="org-operator">*</span>sin(theta<span class="org-operator">/</span>2), cos(theta<span class="org-operator">/</span>2)]])
<span class="org-variable-name">Ry</span> <span class="org-operator">=</span> matrix([[cos(theta<span class="org-operator">/</span>2), <span class="org-operator">-</span>sin(theta<span class="org-operator">/</span>2)], [sin(theta<span class="org-operator">/</span>2), cos(theta<span class="org-operator">/</span>2)]])
</pre>
</div>

<p>
Next we define the kronecker product, commutator, and functions to create kets and bras
from bit-strings:
</p>

<div class="org-src-container">
<pre class="src src-sage" id="orgdefe974"><span class="org-keyword">def</span> <span class="org-function-name">kron</span>(A1, <span class="org-operator">*</span>As):
    <span class="org-doc">"""Generalize TensorProduct to one and more then two arguments."""</span>
    <span class="org-variable-name">P</span> <span class="org-operator">=</span> A1
    <span class="org-keyword">for</span> A <span class="org-keyword">in</span> As:
        <span class="org-variable-name">P</span> <span class="org-operator">=</span> P.tensor_product(A)
    <span class="org-keyword">return</span> P


<span class="org-keyword">def</span> <span class="org-function-name">commutator</span>(a, b):
    <span class="org-doc">"""Commutator [a,b] of a and b."""</span>
    <span class="org-keyword">return</span> a<span class="org-operator">*</span>b <span class="org-operator">-</span> b<span class="org-operator">*</span>a


<span class="org-keyword">def</span> <span class="org-function-name">ket</span>(bits: <span class="org-builtin">str</span>) <span class="org-operator">-&gt;</span> matrix:
    <span class="org-doc">"""If bits is a string of '0' and '1' this returns |bits&gt;."""</span>
    <span class="org-variable-name">vec</span> <span class="org-operator">=</span> [0] <span class="org-operator">*</span> 2<span class="org-operator">**</span><span class="org-builtin">len</span>(bits)
    <span class="org-variable-name">vec</span>[<span class="org-builtin">int</span>(bits, 2)] <span class="org-operator">=</span> 1
    <span class="org-keyword">return</span> vector(vec)


<span class="org-keyword">def</span> <span class="org-function-name">bra</span>(bits: <span class="org-builtin">str</span>) <span class="org-operator">-&gt;</span> matrix:
    <span class="org-doc">"""If bits is a string of '0' and '1' this returns &lt;bits|."""</span>
    <span class="org-keyword">return</span> ket(bits).H
</pre>
</div>

<p>
Projection operators
</p>

<div class="org-src-container">
<pre class="src src-sage" id="org0c23722"><span class="org-variable-name">e0</span> <span class="org-operator">=</span> matrix(ket(<span class="org-string">'0'</span>))
<span class="org-variable-name">e1</span> <span class="org-operator">=</span> matrix(ket(<span class="org-string">'1'</span>))

<span class="org-variable-name">P0</span> <span class="org-operator">=</span> e0.H <span class="org-operator">*</span> e0
<span class="org-variable-name">P1</span> <span class="org-operator">=</span> e1.H <span class="org-operator">*</span> e1
</pre>
</div>

<p>
Some multi-qubit gates:
</p>

<div class="org-src-container">
<pre class="src src-sage" id="org87bc0ef"><span class="org-comment-delimiter"># </span><span class="org-comment">Controlled Pauli gates</span>
<span class="org-variable-name">CX</span> <span class="org-operator">=</span> kron(P0, Id) <span class="org-operator">+</span> kron(P1, X)
<span class="org-variable-name">CY</span> <span class="org-operator">=</span> kron(P0, Id) <span class="org-operator">+</span> kron(P1, Y)
<span class="org-variable-name">CZ</span> <span class="org-operator">=</span> kron(P0, Id) <span class="org-operator">+</span> kron(P1, Z)

<span class="org-variable-name">SWAP</span> <span class="org-operator">=</span> matrix([
  [1, 0, 0, 0],
  [0, 0, 1, 0],
  [0, 1, 0, 0],
  [0, 0, 0, 1],
])
</pre>
</div>
</div>
</div>
<footer class="footer"><p>Made by <a href="https://github.com/rainij">Reinhard Stahn</a> with <a href="https://www.gnu.org/software/emacs/">Emacs</a> 29.1.50 (<a href="https://orgmode.org">Org</a> mode 9.6.8)</p><p>Find the source code on <a href="https://github.com/rainij/solutions-qcqi-nielsen-chuang">Github</a></p></footer></body></html>